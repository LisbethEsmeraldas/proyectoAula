import{W as C,r as u,Y as v,Z as m,_ as t,ac as l,$ as s,aZ as d,a_ as Q,a5 as y,a3 as b,a1 as E,aY as I,b2 as R,b3 as w,aa as k,ab as P}from"./index.7607eaa6.js";import{Q as S}from"./QPage.1364d81a.js";import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";const D=r=>(k("data-v-14e70245"),r=r(),P(),r),N={class:"q-pa-md flex flex-center"},O=D(()=>l("div",{class:"text-h6 text-center"},"Escanear C\xF3digo QR",-1)),j={class:"text-subtitle1 text-center"},B=C({__name:"CodigoQR-Page",setup(r){const e=u(null),n=u(null),p=async()=>{try{const o=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});e.value&&(e.value.srcObject=o,R(()=>import("./index.0410d90e.js"),[]).then(c=>{const f=new c,a=document.createElement("canvas"),i=a.getContext("2d");if(i&&e.value){const h=setInterval(()=>{a.width=e.value.videoWidth,a.height=e.value.videoHeight,i.drawImage(e.value,0,0,a.width,a.height);const x=i.getImageData(0,0,a.width,a.height);f.decode(x,(V,_)=>{_&&(n.value=_.result,clearInterval(h),g(),w.create({message:"\xA1C\xF3digo QR detectado!",color:"green",icon:"check_circle",position:"top"}))})},500)}}))}catch(o){console.error("Error al acceder a la c\xE1mara:",o),alert("No se pudo acceder a la c\xE1mara. Por favor, verifica los permisos.")}},g=()=>{e.value&&e.value.srcObject&&(e.value.srcObject.getTracks().forEach(c=>c.stop()),e.value.srcObject=null)};return(o,c)=>(v(),m(S,null,{default:t(()=>[l("div",N,[s(I,{class:"q-card q-ma-md"},{default:t(()=>[s(d,null,{default:t(()=>[O]),_:1}),s(Q,{align:"center"},{default:t(()=>[s(y,{label:"Escanear C\xF3digo QR",color:"primary",onClick:p})]),_:1}),s(d,null,{default:t(()=>[l("video",{ref_key:"video",ref:e,class:"q-ma-md",autoplay:"",muted:"",playsinline:""},null,512)]),_:1}),n.value?(v(),m(d,{key:0},{default:t(()=>[l("div",j," Resultado: "+b(n.value),1)]),_:1})):E("",!0)]),_:1})])]),_:1}))}});var T=q(B,[["__scopeId","data-v-14e70245"]]);export{T as default};
